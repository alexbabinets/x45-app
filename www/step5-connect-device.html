<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>X45 – Step 5: Connect Your Device</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0a0b0d; --panel:#101216; --ink:#eef2f7; --muted:#9aa0a6;
      --blue:#2f5f7a; --blueHover:#376e8e; --line:#1b1d22; --border:#1b1c20; --ring: rgba(128,173,214,.25);
      --btn:#2f5f7a; --btnH:#376e8e;
      --card:#0e1218; --cardBorder:#222832;
      --pill:#121820; --pillBorder:#2a3240;
      --badge:#1a2531;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      color:var(--ink);
      font-family:Inter,system-ui,Arial,sans-serif;
      text-align:center;
    }
    .page{
      max-width:900px;
      margin:auto;
      padding:40px 20px 32px;
    }
    img.logo{
      width:180px;
      margin-bottom:20px;
    }

    #step-label{
      font-size:36px;
      font-weight:900;
      margin:10px 0 4px;
    }
    .sub-heading{
      font-size:18px;
      color:#cbd5e1;
      margin:0 0 8px;
    }
    .blue-heading{
      font-size:22px;
      font-weight:900;
      color:#00b3ff;
      text-decoration:underline;
      margin:0 0 18px;
    }

    .coach-image{
      width:160px;
      border-radius:12px;
      margin:12px auto 24px;
      animation:breathe 3.5s ease-in-out infinite;
      display:block;
    }
    @keyframes breathe{
      0%{transform:scale(1)}
      50%{transform:scale(1.03)}
      100%{transform:scale(1)}
    }

    .dialogue{
      font-size:18px;
      line-height:1.6;
      margin-bottom:18px;
      max-width:760px;
      margin-left:auto;
      margin-right:auto;
    }
    .mini-steps-label{
      font-size:14px;
      color:#cbd5e1;
      margin:6px 0 -4px;
      opacity:.9;
    }

    /* ====== STANDOUT SELECT CONTROLS ====== */
    .selects{
      margin:26px auto 10px;
      max-width:460px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }
    select{
      width:100%;
      max-width:460px;
      margin:0 auto;
      background:linear-gradient(135deg,#101625,#141b2b);
      border:2px solid var(--blue);
      box-shadow:0 0 25px rgba(47,95,122,.55);
      color:#fff;
      padding:14px 18px;
      border-radius:999px;
      font-size:17px;
      font-weight:700;
      text-align-last:center;
      cursor:pointer;
      outline:none;
      transition:
        border-color .18s ease,
        box-shadow .18s ease,
        transform .12s ease;
    }
    select:hover{
      border-color:var(--blueHover);
      box-shadow:0 0 30px rgba(55,110,142,.85);
      transform:translateY(-1px);
    }
    select:focus{
      box-shadow:0 0 0 2px rgba(0,179,255,.65);
    }

    .other-wrap{
      display:none;
      width:100%;
      max-width:460px;
      margin:4px auto 0;
    }
    .other-input{
      width:100%;
      background:#101625;
      border:2px solid var(--blue);
      color:#fff;
      padding:13px 18px;
      border-radius:999px;
      font-size:16px;
      text-align:center;
      outline:none;
      box-shadow:0 0 20px rgba(47,95,122,.55);
    }
    .other-input:focus{
      box-shadow:0 0 0 2px rgba(0,179,255,.65);
    }
    .other-hint{
      font-size:12px;
      color:var(--muted);
      margin-top:6px;
      text-align:center;
    }

    .device-preview{
      width:160px;
      max-width:70%;
      border-radius:12px;
      border:1px solid var(--cardBorder);
      background:#000;
      display:none;
      margin:18px auto 22px;
      object-fit:contain;
    }

    .btn{
      border:1px solid var(--line);
      background:var(--btn);
      border-color:transparent;
      color:#fff;
      border-radius:12px;
      padding:12px 28px;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-weight:800;
      font-size:17px;
      margin-top:8px;
    }
    .btn:hover{background:var(--btnH)}
    .skip{
      display:block;
      margin-top:16px;
      font-size:15px;
      color:#9aa0a6;
      text-decoration:underline;
      cursor:pointer;
    }

    /* Help panel */
    .help{
      margin:22px auto 10px;
      max-width:760px;
      text-align:left;
      background:var(--card);
      border:1px solid var(--cardBorder);
      border-radius:14px;
      padding:14px;
    }
    .help-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:8px;
    }
    .help-title{
      font-weight:900;
      font-size:18px;
    }
    .badge{
      font-size:12px;
      border:1px solid var(--pillBorder);
      background:var(--badge);
      color:#cfe6ff;
      border-radius:999px;
      padding:6px 10px;
      font-weight:800;
    }
    .vids{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin:10px 0;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius:999px;
      text-decoration:none;
      background:var(--pill);
      border:1px solid var(--pillBorder);
      color:#e8f5ff;
      font-weight:800;
      font-size:13px;
    }
    .pill:hover{border-color:#3a465a}
    .steps{
      margin:10px 0 0;
      padding-left:18px;
    }
    .steps li{
      margin:6px 0;
      color:#d5deea;
      font-size:14px;
    }
    .muted{
      color:var(--muted);
      font-size:13px;
    }

    @media (max-width:480px){
      #step-label{font-size:30px}
      .dialogue{font-size:16px}
    }
  </style>
</head>
<body>
  <div class="page">
    <img src="https://expressfitness.ca/wp-content/uploads/2025/06/X45-LOGO-CUT-OUT-TM.png" class="logo" alt="X45 Logo" />

    <div id="step-label">Get Connected</div>
    <div class="sub-heading">Sync your activity automatically from your wearable.</div>
    <div class="blue-heading">Step 5. Connect Your Device</div>

    <img id="coachImg" class="coach-image" alt="Your coach" />
    <div class="dialogue" id="coach-dialogue"></div>

    <p class="mini-steps-label">
      Step 1: Pick your device • Step 2: Model • Step 3: Color
    </p>

    <div class="selects">
      <select id="deviceSelect" aria-label="Choose your device">
        <option value="">Choose your device</option>
        <option value="Apple Watch">Apple Watch</option>
        <option value="Fitbit">Fitbit</option>
        <option value="Garmin">Garmin</option>
        <option value="WHOOP">WHOOP</option>
        <option value="Oura Ring">Oura Ring</option>
        <option value="Samsung Galaxy Fit">Samsung Galaxy Fit</option>
        <option value="Polar">Polar</option>
        <option value="Xiaomi Band">Xiaomi Band</option>
        <option value="Huawei Watch">Huawei Watch</option>
        <option value="Amazfit">Amazfit</option>
        <option value="Letsfit">Letsfit</option>
        <option value="Yamay">Yamay</option>
        <option value="Coros">Coros</option>
        <option value="Lintelek">Lintelek</option>
        <option value="Other">Other</option>
      </select>

      <select id="modelSelect" aria-label="Choose model" style="display:none">
        <option value="">Choose model</option>
      </select>

      <select id="colorSelect" aria-label="Choose color" style="display:none">
        <option value="">Choose color</option>
      </select>

      <!-- Only appears for Other -->
      <div id="otherWrap" class="other-wrap">
        <input
          id="otherDeviceInput"
          class="other-input"
          type="text"
          placeholder="Enter your device name"
          aria-label="Enter your device name"
          autocomplete="off"
        />
        <div class="other-hint">Example: Withings ScanWatch, Moov Now, Generic Tracker</div>
      </div>
    </div>

    <img
      id="devicePreview"
      class="device-preview"
      src=""
      alt="Selected device preview"
    />

    <!-- Hidden until a device is selected -->
    <section id="help" class="help" style="display:none">
      <div class="help-head">
        <div class="help-title" id="helpTitle">How to connect</div>
        <span class="badge" id="helpBadge">Quick Guide</span>
      </div>
      <!-- Links (YouTube) appear ABOVE the steps -->
      <div class="vids" id="helpVids"></div>
      <ol class="steps" id="helpSteps"></ol>
      <div class="muted" id="helpNote" style="margin-top:8px"></div
